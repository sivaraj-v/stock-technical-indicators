"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var IStudy_1=require("./schema/IStudy"),ATR=function(){function e(){}return e.prototype.doAlgorithm=function(e){for(var u=0,r=1;r<e.length;r++){e[r].ATR=new IStudy_1.IATR,1===r&&(e[r-1].ATR=new IStudy_1.IATR);var t=e[r],R=e[r-1],T=Math.max(e[r][2],R[4])-Math.min(e[r][3],R[4]);R.ATR.SumTrueRange&&(u=R.ATR.SumTrueRange),u+=T,r>7&&(u-=e[r-7].ATR.TrueRange),t.ATR.TrueRange=T,t.ATR.SumTrueRange=u,7===r?t.ATR.Value=u/7:r>7&&(t.ATR.Value=(6*R.ATR.Value+T)/7)}return e},e}();exports.ATR=ATR;